<!DOCTYPE html>
<html lang="pt-br">
<head>
Â  Â  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>GURILA BET | FUTEBOL</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
Â  Â  <style>
Â  Â  Â  Â  body { background: #121212; color: #fff; font-family: 'Inter', sans-serif; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Headers e Cards */
Â  Â  Â  Â  .league-header { background: #1b1b1b; border-left: 4px solid #00ff88; padding: 12px; font-size: 11px; font-weight: 900; text-transform: uppercase; display: flex; align-items: center; gap: 10px; color: #94a3b8; }
Â  Â  Â  Â  .league-top { border-left: 4px solid #fbbf24; background: #1e1b0b; color: #fbbf24; }
Â  Â  Â  Â  .match-card { background: #181818; border-bottom: 1px solid #2a2a2a; padding: 15px; display: flex; align-items: center; justify-content: space-between; position: relative; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .odd-btn { background: #262626; border: 1px solid #333; border-radius: 6px; width: 50px; height: 42px; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 11px; font-weight: 800; color: #00ff88; transition: 0.2s; cursor: pointer; }
Â  Â  Â  Â  .odd-btn:hover { background: #333; border-color: #00ff88; }
Â  Â  Â  Â  .odd-active { background: #00ff88 !important; color: #000 !important; border-color: #00ff88 !important; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* NavegaÃ§Ã£o */
Â  Â  Â  Â  .date-btn { flex: 1; padding: 12px; text-align: center; font-size: 11px; font-weight: bold; color: #888; cursor: pointer; border-bottom: 2px solid transparent; background: #1b1b1b; }
Â  Â  Â  Â  .date-btn.active { color: #00ff88; border-bottom: 2px solid #00ff88; background: #2a2a2a; }
Â  Â  Â  Â  .live-pulse { animation: pulseRed 1.5s infinite; color: #ef4444; }
Â  Â  Â  Â  @keyframes pulseRed { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Busca e Layout */
Â  Â  Â  Â  .search-container { padding: 10px; background: #1b1b1b; position: relative; border-bottom: 1px solid #333; }
Â  Â  Â  Â  .search-input { width: 100%; background: #000; border: 1px solid #333; padding: 10px 10px 10px 40px; border-radius: 8px; color: white; outline: none; font-size: 12px; font-weight: bold; }
Â  Â  Â  Â  .search-icon { position: absolute; left: 22px; top: 22px; color: #666; font-size: 14px; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Menu Lateral Ligas */
Â  Â  Â  Â  .league-menu-item { display: flex; align-items: center; gap: 8px; padding: 10px; border-bottom: 1px solid #2a2a2a; cursor: pointer; transition: 0.2s; background: #1b1b1b; }
Â  Â  Â  Â  .league-menu-item:hover { background: #262626; }
Â  Â  Â  Â  .league-menu-flag { width: 20px; height: 14px; object-fit: cover; border-radius: 2px; }
Â  Â  Â  Â  .league-menu-text { font-size: 11px; font-weight: bold; color: #ccc; text-transform: uppercase; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Cupom */
Â  Â  Â  Â  .cupom-float { position: fixed; bottom: 20px; right: 20px; left: 20px; background: #00ff88; padding: 15px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; color: #000; font-weight: bold; box-shadow: 0 10px 30px rgba(0,255,136,0.3); z-index: 999; cursor: pointer; animation: slideUp 0.3s; }
Â  Â  Â  Â  @keyframes slideUp { from { transform: translateY(100px); } to { transform: translateY(0); } }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Modais */
Â  Â  Â  Â  .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 1000; display: none; align-items: flex-end; }
Â  Â  Â  Â  .modal-center { align-items: center; justify-content: center; }Â 
Â  Â  Â  Â  .modal-content { background: #1b1b1b; width: 100%; height: 90vh; border-radius: 20px 20px 0 0; display: flex; flex-col; border-top: 1px solid #333; }
Â  Â  Â  Â  .modal-box { background: #1b1b1b; padding: 20px; border-radius: 12px; width: 90%; max-width: 350px; border: 1px solid #333; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Mercados */
Â  Â  Â  Â  .market-box { background: #222; border-radius: 8px; padding: 10px; margin-bottom: 10px; }
Â  Â  Â  Â  .market-btn { background: #333; color: #fff; padding: 10px; border-radius: 6px; text-align: center; font-size: 11px; font-bold; display: flex; justify-content: space-between; cursor: pointer; margin-bottom: 5px; }
Â  Â  Â  Â  .market-btn:hover { background: #00ff88; color: #000; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .hidden { display: none !important; }
Â  Â  Â  Â  .flex { display: flex; }
Â  Â  Â  Â  .max-win { color: #ffd700 !important; }
Â  Â  Â  Â  .no-scrollbar::-webkit-scrollbar { display: none; }
Â  Â  </style>
</head>
<body class="pb-24">

Â  Â  <header class="p-4 flex justify-between items-center bg-[#1b1b1b] border-b border-[#333]">
Â  Â  Â  Â  <div class="text-xl font-black italic tracking-tighter">GURILA<span class="text-[#00ff88]">BET</span> <span class="text-[9px] text-[#00ff88] border border-[#00ff88] rounded px-1 ml-1">V2.0</span></div>
Â  Â  Â  Â  <div id="user-area">
Â  Â  Â  Â  Â  Â  <button onclick="abrirModalAuth()" class="text-xs font-bold bg-[#333] px-4 py-2 rounded text-[#00ff88] border border-[#00ff88] hover:bg-[#00ff88] hover:text-black transition">ENTRAR</button>
Â  Â  Â  Â  </div>
Â  Â  </header>

Â  Â  <div class="flex bg-[#1b1b1b] border-b border-[#333]">
Â  Â  Â  Â  <div id="btn-aovivo" onclick="mudarData('aovivo')" class="date-btn flex items-center justify-center gap-1"><span class="live-pulse">â—</span> AO VIVO</div>
Â  Â  Â  Â  <div id="btn-hoje" onclick="mudarData('hoje')" class="date-btn active">HOJE</div>
Â  Â  Â  Â  <div id="btn-amanha" onclick="mudarData('amanha')" class="date-btn">AMANHÃƒ</div>
Â  Â  Â  Â  <div id="btn-depois" onclick="mudarData('depois')" class="date-btn">DEPOIS</div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div class="search-container">
Â  Â  Â  Â  <i class="fas fa-search search-icon"></i>
Â  Â  Â  Â  <input type="text" class="search-input" placeholder="Buscar Time, Liga ou PaÃ­s..." onkeyup="filtrarBusca(this.value)">
Â  Â  </div>

Â  Â  <div class="p-2 bg-[#121212]">
Â  Â  Â  Â  <h3 class="text-[10px] font-black text-gray-600 uppercase mb-2 ml-2">CompetiÃ§Ãµes</h3>
Â  Â  Â  Â  <div id="menu-campeonatos" class="flex flex-col">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  <button onclick="filtrarLiga('Todos')" class="w-full mt-2 bg-[#222] text-[#00ff88] font-bold text-xs py-3 rounded border border-[#333] uppercase hover:bg-[#333] transition">Ver Todos os Jogos</button>
Â  Â  </div>

Â  Â  <main id="container-jogos" class="max-w-3xl mx-auto p-2 pb-40 min-h-[50vh]">
Â  Â  Â  Â  <div class="text-center py-20 text-gray-600 animate-pulse font-bold uppercase italic text-xs">Carregando Jogos...</div>
Â  Â  </main>
Â  Â Â 
Â  Â  <footer class="text-center py-6 bg-[#1b1b1b] border-t border-[#333] mb-10">
Â  Â  Â  Â  Â <button onclick="toggleModal('modal-validador')" class="text-[10px] text-gray-500 font-bold uppercase hover:text-green-500 transition">
Â  Â  Â  Â  Â  Â  Â <i class="fas fa-shield-alt mr-1"></i> Validar Bilhete
Â  Â  Â  Â  Â </button>
Â  Â  Â  Â  Â <p class="text-[9px] text-gray-700 mt-2">Â© 2026 Gurila Bet. Todos os direitos reservados.</p>
Â  Â  </footer>

Â  Â  <div id="cupom-float" class="cupom-float hidden" onclick="abrirCupomDetalhado()">
Â  Â  Â  Â  <div class="flex flex-col text-xs">
Â  Â  Â  Â  Â  Â  <span>BOLETIM</span>
Â  Â  Â  Â  Â  Â  <span class="text-[10px] font-normal"><span id="qtd-cupom">0</span> SeleÃ§Ãµes</span>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="text-lg">R$ <span id="retorno-float">0.00</span></div>
Â  Â  </div>

Â  Â  <div id="modal-cupom" class="modal-overlay">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <div class="p-4 border-b border-[#333] flex justify-between items-center bg-[#222] rounded-t-[20px]">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-[#00ff88]">CUPOM DE APOSTA</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="toggleModal('modal-cupom')" class="w-8 h-8 rounded-full bg-[#333] text-white font-bold hover:bg-red-500 transition">âœ•</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="lista-apostas" class="flex-1 overflow-y-auto p-4 space-y-3"></div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="p-4 bg-[#111] border-t border-[#333]">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-5 gap-2 mb-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="definirValor(2)" class="bg-[#222] py-2 rounded text-[10px] font-bold text-gray-400 hover:bg-[#00ff88] hover:text-black">R$ 2</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="definirValor(5)" class="bg-[#222] py-2 rounded text-[10px] font-bold text-gray-400 hover:bg-[#00ff88] hover:text-black">R$ 5</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="definirValor(10)" class="bg-[#222] py-2 rounded text-[10px] font-bold text-gray-400 hover:bg-[#00ff88] hover:text-black">R$ 10</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="definirValor(20)" class="bg-[#222] py-2 rounded text-[10px] font-bold text-gray-400 hover:bg-[#00ff88] hover:text-black">R$ 20</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="definirValor(50)" class="bg-[#222] py-2 rounded text-[10px] font-bold text-gray-400 hover:bg-[#00ff88] hover:text-black">R$ 50</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-3 space-y-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="cliente-nome" type="text" placeholder="Nome do Cliente" class="w-full bg-[#000] border border-[#333] p-3 rounded text-sm text-white outline-none">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center bg-[#000] border border-[#00ff88] rounded px-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-[#00ff88] font-bold text-sm">R$</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="valor-aposta" type="number" placeholder="0.00" class="w-full bg-transparent p-3 text-lg font-bold text-[#00ff88] outline-none" oninput="calcularRetorno()">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center mb-4 bg-[#222] p-3 rounded">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex flex-col">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-[10px] text-gray-400 font-bold uppercase">CotaÃ§Ã£o Total</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="odd-final" class="text-sm font-bold text-white">1.00</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex flex-col text-right">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-[10px] text-gray-400 font-bold uppercase">Retorno Potencial</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="retorno-liquido" class="text-xl font-black text-[#00ff88]">R$ 0.00</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-3 gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="limparCupom()" class="col-span-1 bg-[#333] text-red-500 font-bold py-3 rounded-lg uppercase text-xs hover:bg-red-900 transition">Limpar</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="enviarAposta()" class="col-span-2 bg-[#00ff88] text-black font-black py-3 rounded-lg uppercase text-xs shadow-[0_0_15px_rgba(0,255,136,0.4)] hover:bg-white transition">Gerar Bilhete ğŸ¦</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="modal-mercados" class="modal-overlay">
Â  Â  Â  Â  <div class="modal-content h-[75vh]">
Â  Â  Â  Â  Â  Â  <div class="p-4 border-b border-[#333] flex justify-between bg-[#222] rounded-t-[20px]">
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 id="titulo-mercado" class="font-bold text-white text-xs uppercase">JOGO</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-[9px] text-[#00ff88]">Mercados Extras</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="toggleModal('modal-mercados')" class="text-gray-500 font-bold hover:text-white">âœ•</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div id="lista-mercados" class="flex-1 overflow-y-auto p-4 pb-20 space-y-2"></div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="modal-auth" class="modal-overlay modal-center">
Â  Â  Â  Â  <div class="modal-box">
Â  Â  Â  Â  Â  Â  <div class="flex justify-center mb-6 border-b border-[#333]">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="mudarAbaAuth('login')" id="tab-login" class="px-6 py-2 text-sm font-bold text-[#00ff88] border-b-2 border-[#00ff88] w-1/2">Entrar</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="mudarAbaAuth('cadastro')" id="tab-cadastro" class="px-6 py-2 text-sm font-bold text-gray-500 border-b-2 border-transparent w-1/2">Cadastrar</button>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="form-login">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-[10px] text-gray-400 mb-1 uppercase font-bold">Seu E-mail</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="log-email" type="email" class="w-full bg-black p-3 rounded border border-[#333] text-white text-sm outline-none focus:border-[#00ff88]">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-[10px] text-gray-400 mb-1 uppercase font-bold">Sua Senha</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="log-senha" type="password" class="w-full bg-black p-3 rounded border border-[#333] text-white text-sm outline-none focus:border-[#00ff88]">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="fazerLogin()" class="w-full bg-[#00ff88] text-black font-black p-3 rounded uppercase text-xs hover:bg-white transition">Acessar Conta</button>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="form-cadastro" class="hidden">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="cad-nome" type="text" placeholder="Nome Completo" class="w-full bg-black p-3 rounded border border-[#333] text-white text-sm outline-none focus:border-[#00ff88]">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="cad-email" type="email" placeholder="E-mail" class="w-full bg-black p-3 rounded border border-[#333] text-white text-sm outline-none focus:border-[#00ff88]">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="cad-senha" type="password" placeholder="Crie uma Senha" class="w-full bg-black p-3 rounded border border-[#333] text-white text-sm outline-none focus:border-[#00ff88]">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="fazerCadastro()" class="w-full bg-[#00ff88] text-black font-black p-3 rounded uppercase text-xs hover:bg-white transition">Criar Conta</button>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <button onclick="toggleModal('modal-auth')" class="mt-6 text-xs text-gray-500 w-full text-center hover:text-white">Cancelar</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="modal-validador" class="modal-overlay modal-center">
Â  Â  Â  Â  <div class="modal-box text-center">
Â  Â  Â  Â  Â  Â  <h3 class="mb-4 font-bold text-[#00ff88] uppercase">Validar Bilhete</h3>
Â  Â  Â  Â  Â  Â  <input id="val-codigo" type="text" placeholder="CÃ“DIGO (Ex: GB1234)" class="w-full bg-black p-3 mb-4 rounded border border-[#333] text-white text-center uppercase font-bold outline-none focus:border-[#00ff88]">
Â  Â  Â  Â  Â  Â  <button onclick="validar()" class="w-full bg-white text-black font-bold p-3 rounded uppercase text-xs hover:bg-gray-200">Verificar</button>
Â  Â  Â  Â  Â  Â  <div id="res-validacao" class="mt-4 text-xs text-left bg-black p-3 rounded border border-[#333] hidden"></div>
Â  Â  Â  Â  Â  Â  <button onclick="toggleModal('modal-validador')" class="mt-2 text-xs text-gray-500 hover:text-white">Fechar</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  const API = 'https://gurilabet-v2-production.up.railway.app';
Â  Â  Â  Â  const ZAP = '556100000000'; // SEU NÃšMERO
Â  Â  Â  Â  let JOGOS = [], FILTRO_JOGOS = [], CARRINHO = [], USER = JSON.parse(localStorage.getItem('gurila_user'));
Â  Â  Â  Â  let LIGA_ATUAL = 'Todos', DATA_ATUAL = new Date().toISOString().split('T')[0], MODO = 'hoje';
Â  Â  Â  Â  const TOP_LIGAS = ['Serie A', 'Premier League', 'La Liga', 'Bundesliga', 'Champions League', 'Libertadores'];
Â  Â  Â  Â  const LIMITE_GANHO = 2500.00;

Â  Â  Â  Â  window.onload = () => {
Â  Â  Â  Â  Â  Â  verificarLogin();
Â  Â  Â  Â  Â  Â  mudarData('hoje');
Â  Â  Â  Â  };

Â  Â  Â  Â  function verificarLogin() {
Â  Â  Â  Â  Â  Â  if(USER) {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('user-area').innerHTML = `<div class="flex flex-col text-right leading-tight"><span class="text-[10px] text-gray-400">OlÃ¡, ${USER.nome.split(' ')[0]}</span><span onclick="logout()" class="text-xs font-bold text-[#00ff88] cursor-pointer hover:text-white">R$ ${USER.saldo} <i class="fas fa-sign-out-alt ml-1"></i></span></div>`;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('cliente-nome').value = USER.nome;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('user-area').innerHTML = `<button onclick="abrirModalAuth()" class="text-xs font-bold bg-[#333] px-4 py-2 rounded text-[#00ff88] border border-[#00ff88] hover:bg-[#00ff88] hover:text-black transition">ENTRAR</button>`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function mudarData(tipo) {
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.date-btn').forEach(b => b.classList.remove('active'));
Â  Â  Â  Â  Â  Â  document.getElementById(`btn-${tipo}`).classList.add('active');
Â  Â  Â  Â  Â  Â  MODO = tipo;
Â  Â  Â  Â  Â  Â  let d = new Date();
Â  Â  Â  Â  Â  Â  if(tipo === 'amanha') d.setDate(d.getDate() + 1);
Â  Â  Â  Â  Â  Â  if(tipo === 'depois') d.setDate(d.getDate() + 2);
Â  Â  Â  Â  Â  Â  DATA_ATUAL = d.toISOString().split('T')[0];
Â  Â  Â  Â  Â  Â  carregarJogos();
Â  Â  Â  Â  }

Â  Â  Â  Â  async function carregarJogos() {
Â  Â  Â  Â  Â  Â  document.getElementById('container-jogos').innerHTML = '<div class="text-center py-20 text-gray-600 animate-pulse font-bold uppercase italic text-xs">Carregando Jogos...</div>';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let url = `${API}/api/jogos?` + (MODO === 'aovivo' ? 'aovivo=true' : `data=${DATA_ATUAL}`);
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  let res = await fetch(url);
Â  Â  Â  Â  Â  Â  Â  Â  JOGOS = await res.json();
Â  Â  Â  Â  Â  Â  Â  Â  FILTRO_JOGOS = JOGOS;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if(JOGOS.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('container-jogos').innerHTML = '<div class="text-center py-20 text-gray-500 font-bold">Nenhum jogo encontrado.</div>';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('menu-campeonatos').innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  renderizarLigas();
Â  Â  Â  Â  Â  Â  Â  Â  renderizarJogos();
Â  Â  Â  Â  Â  Â  } catch(e) { document.getElementById('container-jogos').innerHTML = '<div class="text-center text-red-500 py-20">Erro de ConexÃ£o. Verifique sua internet.</div>'; }
Â  Â  Â  Â  }

Â  Â  Â  Â  function renderizarLigas() {
Â  Â  Â  Â  Â  Â  let ligas = {};
Â  Â  Â  Â  Â  Â  FILTRO_JOGOS.forEach(j => {
Â  Â  Â  Â  Â  Â  Â  Â  let k = j.liga;
Â  Â  Â  Â  Â  Â  Â  Â  if(!ligas[k]) ligas[k] = { nome: j.liga, pais: j.pais, bandeira: j.bandeira_pais || j.logo_liga, top: TOP_LIGAS.some(t => j.liga.includes(t)) };
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  let lista = Object.values(ligas).sort((a,b) => (b.top - a.top));
Â  Â  Â  Â  Â  Â  let html = `<div onclick="filtrarLiga('Todos')" class="league-menu-item"><div class="league-menu-text text-[#00ff88]">ğŸŒ TODOS OS JOGOS</div></div>`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  lista.forEach(l => {
Â  Â  Â  Â  Â  Â  Â  Â  html += `
Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="filtrarLiga('${l.nome}')" class="league-menu-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="${l.bandeira}" class="league-menu-flag">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="league-menu-text text-gray-400">${l.nome}</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  document.getElementById('menu-campeonatos').innerHTML = html;
Â  Â  Â  Â  }

Â  Â  Â  Â  function filtrarLiga(nome) { LIGA_ATUAL = nome; renderizarJogos(); }
Â  Â  Â  Â  function filtrarBusca(txt) {
Â  Â  Â  Â  Â  Â  let t = txt.toLowerCase();
Â  Â  Â  Â  Â  Â  FILTRO_JOGOS = JOGOS.filter(j => j.home.name.toLowerCase().includes(t) || j.away.name.toLowerCase().includes(t) || j.liga.toLowerCase().includes(t));
Â  Â  Â  Â  Â  Â  renderizarLigas(); renderizarJogos();
Â  Â  Â  Â  }

Â  Â  Â  Â  function renderizarJogos() {
Â  Â  Â  Â  Â  Â  let lista = LIGA_ATUAL === 'Todos' ? FILTRO_JOGOS : FILTRO_JOGOS.filter(j => j.liga === LIGA_ATUAL);
Â  Â  Â  Â  Â  Â  let grupos = {};
Â  Â  Â  Â  Â  Â  lista.forEach(j => { if(!grupos[j.liga]) grupos[j.liga] = []; grupos[j.liga].push(j); });

Â  Â  Â  Â  Â  Â  let html = '';
Â  Â  Â  Â  Â  Â  for(let liga in grupos) {
Â  Â  Â  Â  Â  Â  Â  Â  let info = grupos[liga][0];
Â  Â  Â  Â  Â  Â  Â  Â  html += `<div class="mb-4 rounded-lg overflow-hidden border border-[#2a2a2a]"><div class="league-header"><img src="${info.bandeira_pais}" class="w-5 h-4 rounded"><span>${liga}</span></div>`;
Â  Â  Â  Â  Â  Â  Â  Â  grupos[liga].forEach(j => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let hora = new Date(j.data).toLocaleTimeString('pt-BR', {hour:'2-digit', minute:'2-digit'});
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let aoVivo = ['1H','2H','HT'].includes(j.status);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html += `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="match-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-[10px] text-gray-500 font-bold w-10 text-center leading-tight mr-2">${aoVivo ? `<span class="text-red-500 font-black animate-pulse">${j.status}</span>` : hora}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-2 text-[11px] font-bold text-gray-300 mb-1"><img src="${j.home.logo}" class="w-4 h-4"> ${j.home.name}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-2 text-[11px] font-bold text-gray-300"><img src="${j.away.logo}" class="w-4 h-4"> ${j.away.name}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex gap-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="addAposta(${j.id}, '1', ${j.odds.casa}, '${j.home.name} x ${j.away.name}', 'Resultado', this)" class="odd-btn" id="btn-${j.id}-1"><span class="text-[8px] text-gray-500">1</span><span class="text-[#00ff88] font-bold">${j.odds.casa}</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="addAposta(${j.id}, 'X', ${j.odds.empate}, '${j.home.name} x ${j.away.name}', 'Resultado', this)" class="odd-btn" id="btn-${j.id}-X"><span class="text-[8px] text-gray-500">X</span><span class="text-[#00ff88] font-bold">${j.odds.empate}</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="addAposta(${j.id}, '2', ${j.odds.fora}, '${j.home.name} x ${j.away.name}', 'Resultado', this)" class="odd-btn" id="btn-${j.id}-2"><span class="text-[8px] text-gray-500">2</span><span class="text-[#00ff88] font-bold">${j.odds.fora}</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="abrirMercados(${j.id})" class="odd-btn bg-[#333] w-[30px] hover:bg-[#00ff88] hover:text-black transition"><span class="text-[10px] font-bold">+</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  html += `</div>`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  document.getElementById('container-jogos').innerHTML = html || '<div class="p-10 text-center text-gray-500">Sem jogos.</div>';
Â  Â  Â  Â  Â  Â  atualizarBotoes();
Â  Â  Â  Â  }

Â  Â  Â  Â  // APOSTAS
Â  Â  Â  Â  function addAposta(id, opcao, odd, nome, mercado, el) {
Â  Â  Â  Â  Â  Â  CARRINHO = CARRINHO.filter(i => i.id !== id);
Â  Â  Â  Â  Â  Â  CARRINHO.push({ id, opcao, odd, nome, mercado });
Â  Â  Â  Â  Â  Â  if(CARRINHO.length > 10) { alert("MÃ¡ximo 10 jogos"); CARRINHO.pop(); }
Â  Â  Â  Â  Â  Â  atualizarBotoes();
Â  Â  Â  Â  Â  Â  atualizarCupomFloat();
Â  Â  Â  Â  }

Â  Â  Â  Â  function atualizarBotoes() {
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.odd-btn').forEach(b => b.classList.remove('odd-active'));
Â  Â  Â  Â  Â  Â  CARRINHO.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  let btn = document.getElementById(`btn-${item.id}-${item.opcao}`);
Â  Â  Â  Â  Â  Â  Â  Â  if(btn) btn.classList.add('odd-active');
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function atualizarCupomFloat() {
Â  Â  Â  Â  Â  Â  if(CARRINHO.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('cupom-float').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('qtd-cupom').innerText = CARRINHO.length;
Â  Â  Â  Â  Â  Â  Â  Â  let total = CARRINHO.reduce((a,b) => a * Number(b.odd), 1);
Â  Â  Â  Â  Â  Â  Â  Â  let val = document.getElementById('valor-aposta').value || 0;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('retorno-float').innerText = (total * val).toFixed(2);
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('cupom-float').classList.add('hidden');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function abrirCupomDetalhado() {
Â  Â  Â  Â  Â  Â  toggleModal('modal-cupom');
Â  Â  Â  Â  Â  Â  let html = '';
Â  Â  Â  Â  Â  Â  CARRINHO.forEach((item, idx) => {
Â  Â  Â  Â  Â  Â  Â  Â  html += `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-[#333] p-3 rounded mb-2 border border-[#444] flex justify-between items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-[10px] text-gray-400 font-bold uppercase">${item.nome}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-xs font-bold text-white"><span class="text-[#00ff88]">${item.mercado}</span> : ${item.opcao}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-right">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="font-bold text-[#00ff88]">${item.odd}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="rmItem(${idx})" class="text-[10px] text-red-500 underline hover:text-white">Remover</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  document.getElementById('lista-apostas').innerHTML = html;
Â  Â  Â  Â  Â  Â  if(USER) document.getElementById('cliente-nome').value = USER.nome;
Â  Â  Â  Â  Â  Â  calcRetorno();
Â  Â  Â  Â  }

Â  Â  Â  Â  function rmItem(idx) { CARRINHO.splice(idx, 1); abrirCupomDetalhado(); atualizarBotoes(); atualizarCupomFloat(); if(CARRINHO.length===0) toggleModal('modal-cupom'); }
Â  Â  Â  Â  function definirValor(v) { document.getElementById('valor-aposta').value = v; calcRetorno(); }
Â  Â  Â  Â  function limparCupom() { CARRINHO = []; atualizarBotoes(); atualizarCupomFloat(); toggleModal('modal-cupom'); }

Â  Â  Â  Â  function calcRetorno() {
Â  Â  Â  Â  Â  Â  let v = parseFloat(document.getElementById('valor-aposta').value) || 0;
Â  Â  Â  Â  Â  Â  let odd = CARRINHO.reduce((a,b) => a * Number(b.odd), 1);
Â  Â  Â  Â  Â  Â  let ret = v * odd;
Â  Â  Â  Â  Â  Â  if(ret > LIMITE_GANHO) ret = LIMITE_GANHO;
Â  Â  Â  Â  Â  Â  document.getElementById('odd-final').innerText = odd.toFixed(2);
Â  Â  Â  Â  Â  Â  document.getElementById('retorno-liquido').innerText = `R$ ${ret.toFixed(2)}`;
Â  Â  Â  Â  Â  Â  document.getElementById('retorno-float').innerText = ret.toFixed(2);
Â  Â  Â  Â  }

Â  Â  Â  Â  async function enviarAposta() {
Â  Â  Â  Â  Â  Â  let nome = document.getElementById('cliente-nome').value;
Â  Â  Â  Â  Â  Â  let valor = document.getElementById('valor-aposta').value;
Â  Â  Â  Â  Â  Â  if(!nome || !valor) return alert("Preencha nome e valor");
Â  Â  Â  Â  Â  Â  if(!USER) { USER = { nome, saldo: '0.00' }; localStorage.setItem('gurila_user', JSON.stringify(USER)); verificarLogin(); }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let oddTotal = document.getElementById('odd-final').innerText;
Â  Â  Â  Â  Â  Â  let res = await fetch(`${API}/api/finalizar`, {
Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST', headers: {'Content-Type': 'application/json'},
Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ usuario_id: USER.id || 1, valor, apostas: CARRINHO, odd_total: oddTotal })
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  let data = await res.json();
Â  Â  Â  Â  Â  Â  if(data.sucesso) {
Â  Â  Â  Â  Â  Â  Â  Â  let msg = `ğŸ¦ *GURILA BET* ğŸ¦\nğŸ‘¤: ${nome}\nCÃ³d: *${data.codigo}*\nValor: R$ ${valor}\nRetorno: R$ ${data.retorno}\n\n`;
Â  Â  Â  Â  Â  Â  Â  Â  CARRINHO.forEach(i => msg += `âš½ ${i.nome}\nğŸ‘‰ ${i.opcao} (${i.odd})\n`);
Â  Â  Â  Â  Â  Â  Â  Â  window.open(`https://wa.me/${ZAP}?text=${encodeURIComponent(msg)}`);
Â  Â  Â  Â  Â  Â  Â  Â  limparCupom();
Â  Â  Â  Â  Â  Â  } else { alert("Erro: " + data.erro); }
Â  Â  Â  Â  }

Â  Â  Â  Â  // AUTH
Â  Â  Â  Â  function abrirModalAuth() { toggleModal('modal-auth'); mudarAbaAuth('login'); }
Â  Â  Â  Â  function mudarAbaAuth(aba) {
Â  Â  Â  Â  Â  Â  document.getElementById('form-login').classList.toggle('hidden', aba !== 'login');
Â  Â  Â  Â  Â  Â  document.getElementById('form-cadastro').classList.toggle('hidden', aba !== 'cadastro');
Â  Â  Â  Â  Â  Â  document.getElementById('tab-login').classList.toggle('text-[#00ff88]', aba === 'login');
Â  Â  Â  Â  Â  Â  document.getElementById('tab-login').classList.toggle('border-[#00ff88]', aba === 'login');
Â  Â  Â  Â  Â  Â  document.getElementById('tab-cadastro').classList.toggle('text-[#00ff88]', aba === 'cadastro');
Â  Â  Â  Â  Â  Â  document.getElementById('tab-cadastro').classList.toggle('border-[#00ff88]', aba === 'cadastro');
Â  Â  Â  Â  }
Â  Â  Â  Â  async function fazerLogin() {
Â  Â  Â  Â  Â  Â  let email = document.getElementById('log-email').value;
Â  Â  Â  Â  Â  Â  let senha = document.getElementById('log-senha').value;
Â  Â  Â  Â  Â  Â  let res = await fetch(`${API}/api/login`, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({email, senha}) });
Â  Â  Â  Â  Â  Â  let data = await res.json();
Â  Â  Â  Â  Â  Â  if(data.sucesso) { localStorage.setItem('gurila_user', JSON.stringify(data.usuario)); USER = data.usuario; location.reload(); }
Â  Â  Â  Â  Â  Â  else alert(data.erro);
Â  Â  Â  Â  }
Â  Â  Â  Â  async function fazerCadastro() {
Â  Â  Â  Â  Â  Â  let nome = document.getElementById('cad-nome').value;
Â  Â  Â  Â  Â  Â  let email = document.getElementById('cad-email').value;
Â  Â  Â  Â  Â  Â  let senha = document.getElementById('cad-senha').value;
Â  Â  Â  Â  Â  Â  let res = await fetch(`${API}/api/cadastro`, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({nome, email, senha}) });
Â  Â  Â  Â  Â  Â  let data = await res.json();
Â  Â  Â  Â  Â  Â  if(data.sucesso) { localStorage.setItem('gurila_user', JSON.stringify(data.usuario)); USER = data.usuario; location.reload(); }
Â  Â  Â  Â  Â  Â  else alert(data.erro);
Â  Â  Â  Â  }
Â  Â  Â  Â  function logout() { localStorage.removeItem('gurila_user'); location.reload(); }

Â  Â  Â  Â  // UTILITÃRIOS
Â  Â  Â  Â  function toggleModal(id) {Â 
Â  Â  Â  Â  Â  Â  let el = document.getElementById(id);
Â  Â  Â  Â  Â  Â  el.style.display = (el.style.display === 'flex') ? 'none' : 'flex';
Â  Â  Â  Â  }
Â  Â  Â  Â  function abrirMercados(id) {
Â  Â  Â  Â  Â  Â  let j = JOGOS.find(x => x.id === id);
Â  Â  Â  Â  Â  Â  document.getElementById('titulo-mercado').innerText = `${j.home.name} x ${j.away.name}`;
Â  Â  Â  Â  Â  Â  let m = j.mercados;
Â  Â  Â  Â  Â  Â  let html = '';
Â  Â  Â  Â  Â  Â  const addM = (t, i) => { html += `<div class="market-box"><div class="market-title text-[10px] font-bold text-gray-500 uppercase mb-2">${t}</div><div class="grid grid-cols-2 gap-2">`; i.forEach(x => html += `<div onclick="addAposta(${id}, '${x.sel}', ${x.val}, '${j.home.name} x ${j.away.name}', '${t}', null); toggleModal('modal-mercados')" class="market-btn"><span>${x.sel}</span><span class="text-[#00ff88]">${x.val}</span></div>`); html += `</div></div>`; };
Â  Â  Â  Â  Â  Â  addM('Dupla Chance', [{sel:'Casa/Emp',val:m.dupla_chance.casa_empate}, {sel:'Casa/Fora',val:m.dupla_chance.casa_fora}, {sel:'Emp/Fora',val:m.dupla_chance.empate_fora}]);
Â  Â  Â  Â  Â  Â  addM('Total Gols', [{sel:'+1.5',val:m.total_gols.mais_15}, {sel:'-1.5',val:m.total_gols.menos_15}, {sel:'+2.5',val:m.total_gols.mais_25}, {sel:'-2.5',val:m.total_gols.menos_25}]);
Â  Â  Â  Â  Â  Â  addM('Ambas Marcam', [{sel:'Sim',val:m.ambas_marcam.sim}, {sel:'NÃ£o',val:m.ambas_marcam.nao}]);
Â  Â  Â  Â  Â  Â  document.getElementById('lista-mercados').innerHTML = html;
Â  Â  Â  Â  Â  Â  toggleModal('modal-mercados');
Â  Â  Â  Â  }
Â  Â  Â  Â  async function validar() {
Â  Â  Â  Â  Â  Â  let cod = document.getElementById('val-codigo').value;
Â  Â  Â  Â  Â  Â  let res = await fetch(`${API}/api/bilhete/${cod}`);
Â  Â  Â  Â  Â  Â  let data = await res.json();
Â  Â  Â  Â  Â  Â  let div = document.getElementById('res-validacao');
Â  Â  Â  Â  Â  Â  div.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  if(data.sucesso) div.innerHTML = `<span class="text-[#00ff88] font-bold">âœ… VÃLIDO</span><br>R$ ${data.bilhete.valor} -> R$ ${data.bilhete.retorno}`;
Â  Â  Â  Â  Â  Â  else div.innerHTML = '<span class="text-red-500 font-bold">âŒ INVÃLIDO</span>';
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
